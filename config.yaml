edge:
  agent_id: "edge_13238407486"  # Generated from phone number
  user_phone: "+13238407486"    # Mac mini iMessage account

backend:
  url: "https://archety-backend-dev.up.railway.app"
  websocket_url: "wss://archety-backend-dev.up.railway.app"  # WebSocket URL (derived from url if not set)
  sync_interval_seconds: 30  # Fallback polling interval if WebSocket disconnects

websocket:
  enabled: true  # Use WebSocket for real-time command delivery
  reconnect_attempts: 10  # DEPRECATED: WebSocket now retries indefinitely (unlimited attempts)
  ping_interval_seconds: 30  # Keepalive ping frequency

imessage:
  poll_interval_seconds: 1  # Quick Win: Faster detection (0-1s vs 0-2s)
  db_path: "~/Library/Messages/chat.db"

database:
  path: "./edge-agent.db"

scheduler:
  adaptive_mode: true  # Phase 3: Adaptive scheduling for near-instant delivery
  check_interval_seconds: 30  # Fallback interval (used when adaptive_mode is false)

logging:
  level: "info"  # debug, info, warn, error
  file: "./edge-agent.log"

monitoring:
  sentry:
    enabled: false  # Set to true and add DSN to enable error tracking
    # dsn: "https://your-sentry-dsn@sentry.io/project-id"
    environment: "development"
    traces_sample_rate: 0.1  # 10% of transactions for performance monitoring
    profiles_sample_rate: 0.1  # 10% profiling
  amplitude:
    enabled: false  # Set to true and add API key to enable analytics
    # api_key: "your-amplitude-api-key"
    flush_interval_ms: 10000  # Flush events every 10 seconds
  health_check:
    enabled: true  # Enable health check endpoint
    port: 3001  # Health check HTTP server port
